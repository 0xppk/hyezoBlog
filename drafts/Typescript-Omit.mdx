---
title: "Typescript <Omit>"
date: "2022-07-11"
categories: "coding"
---

타입스크립트 본격적으로 쓴 지 한달째다. 근데 잘 가고 있는 걸까? 물으면 모르겠다. 그저 interface로 데이터 타입 그리는 데서 임무가 그치고 있는 느낌.. 한결 익숙해져서라고 믿고 싶지만.. 😢
<br/>
아무튼 오늘은 자주 쓰는 모듈들을 따로 커스터마이징 했다. 그 과정에서 이런 타입 에러가 발생했는데
<Img src={'/images/typeError1.png'} />
<br/>

### 니가 몬데 짜식아?
간단히 말해 RoughNotationProps(부모타입?)에서 필수로 요하는 children을 내 쪽에서 옵셔널로 바꾸면서 생긴 오류였다. 오홍.? 🤔  
interface는 기존 정의에 새로운 값/타입을 추가하는 데엔 관대하지만, 이렇듯 기존값을 뭔가로 다르게 덮어쓰면 오류를 던진다. 돌아가 당시의 타입을 보면 대충 이런 꼴인데
<CH.Scrollycoding rows={10}>
  원흉 👾
  ```ts MdxComponents.tsx focus=4 
  interface NotationProps extends RoughNotationProps {
    text: string;
    css?: string;
    children?: React.ReactNode;
  }
  ```
  ---
  컴퍼넌트
  ```ts Mdx....tsx mark=2[29:41]
  // RoughNotation
  export const Note = (props: NotationProps) => {
    const [isCalled, setIsCalled] = useState(false);
    useEffect(() => setIsCalled(true), []);
    return (
      <RoughNotation
        show={isCalled}
        color="tomato"
        animationDuration={1200}
        animationDelay={100}
        {...props}
      >
      // mark
        {<span className={props.css}>{props.text}</span>}
      </RoughNotation>
    );
  };
  ```
</CH.Scrollycoding>
당초 의도는 children을 생략하고 그 자리를 text와 css로 대신하는 거였다. 물론 그거랑 children이랑 작동이 별반 다를 거 없긴 하다. 근데 왜 바꾸냐면.. 아니 css가 이상하게 들어가더라고요..? ㅎㅎ;;   
그래서 어떡하면 좋을까?  
<br/>
### 방법은 Typescript의 'Omit' 💨💨
- 타입스크립트의 유틸타입 중 하나!
- 타입을 _`extends`_ 해올 때 <Note animationDelay={500}>특정키 값을 제외</Note>하고 <Note type="circle" animationDelay={500}>상속</Note> 받는다
<br/>
공식문서 둘러볼 때 이놈은 필히 쓰겠다 싶더랬다. 사용법은 아주 간단하다.
```ts Mdx....tsx mark=2[33:68]
// children을 제외하고 extends 해온다.
interface NotationProps extends Omit<RoughNotationProps, "children"> {
  text?: string;
  css?: string;
  className?: string;
  children?: React.ReactNode;
} 
```
이러면 이제 원래 의도대로 children을 옵셔널하게 재정의할 수 있을 것이다.  
끝.
<br/>

#### 참고한 사이트
- <Lnk text='타입스크립트 공식문서' href={'https://www.typescriptlang.org/docs/handbook/utility-types.html'} />

---
title: '새로운 글'
date: '2022-06-12'
img: "/images/profile.jpg"

---
import { RoughNotation, RoughNotationGroup } from "react-rough-notation";

## 🌙 **다크모드**
- 테일윈드 공홈에서 소개하는 방식

<CH.Code>
```js navbar.tsx
const Toggle = () => {
  if (!localStorage.theme) {
    document.documentElement.classList.add("dark");
    localStorage.setItem("theme", "dark");
  } else {
    document.documentElement.classList.remove("dark");
    localStorage.removeItem("theme");
  }
};
```
```js index.tsx
export default function Home({ allPostsData }: PostsProps) {
  useEffect(() => {
    if (localStorage.theme === "dark") {
      document.documentElement.classList.add("dark");
    }
  }, []);
```
```css global.css
:root {
  --light-background: #fff;
  --dark-background: rgba(0, 0, 0, 0.92);
}
html {
  --background: var(--light-background);
}
html.dark {
  --background: var(--dark-background);
}
```
```js tailwind.config.js
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        custom: {
          background: "var(--background)",
        },
      },
    },
  }
  ...
```
</CH.Code>

일단 설명이 자세해서 어렵진 않았는데
DOM에 직접 접근하는 것에 대한 막연한 거부감 때문에 내키지 않았다.  


Next.js의 useTheme 훅을 이용하면 좀더 쉽게 이를 적용할 수 있다.
근데 속의 메커니즘은 결국 똑같은듯..ㅎ
